# Cloudflare Workers config for SvelteKit (Svelte 5)
# Docs: https://developers.cloudflare.com/workers/wrangler/configuration/

name = "jonahbray"
# Entry generated by @sveltejs/adapter-cloudflare during `svelte-kit build`
# Ensure your svelte.config.js uses `@sveltejs/adapter-cloudflare`
main = ".svelte-kit/cloudflare/_worker.js"

# Set to today's date or a fixed date that your app is compatible with
compatibility_date = "2025-09-18"

# Enable Node.js APIs polyfill if any dependency relies on Node built-ins
compatibility_flags = ["nodejs_compat"]

# Bind the built static assets directory to serve files efficiently in Workers
[assets]
# this must match the directory produced by adapter-cloudflare
binding = "ASSETS"
directory = ".svelte-kit/cloudflare"

# Use Workers Dev by default; set `routes` when binding a custom domain
workers_dev = true

# If you use KV, D1, R2, Durable Objects, Queues, etc., define them below.
# [[kv_namespaces]]
# binding = "MY_KV"
# id = "xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"

# [[d1_databases]]
# binding = "DB"
# database_name = "my-db"
# database_id = "xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx"

# [vars]
# PUBLIC_API_BASE = "https://api.example.com"

# [env.preview]
# compatibility_flags = ["nodejs_compat"]

# [env.production]
# compatibility_flags = ["nodejs_compat"]